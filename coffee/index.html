<html>
    <head>
        <title>v2</title>
        <link rel="stylesheet" href="stylesheets/56.css">
        <link rel="stylesheet" href="stylesheets/animations.css">
        <link rel="stylesheet" href="stylesheets/home.css">
        <link rel="stylesheet" href="stylesheets/draftBldgChoice.css">
        <script type="text/javascript" src="jquery-3.1.1.min.js"></script>
        <script type="text/javascript" src="jquery.history.js"></script>
    </head>
    <body>
        <header>
            <button type="button">MAP</button>
            <div id="headerShare">SHARE (F) (T)</div>
        </header>
    
        <div id="content">asdf</div>
        <script>
            (function(window, undefined) {
                // Establish Variables
                var State = History.getState();
                var $log = $('#log');

                // Log Initial State
                History.log('initial:', State.data, State.title, State.url);

                // Bind to State Change
                History.Adapter.bind(window,'statechange', function() { // Note: We are using statechange instead of popstate
                    // Log the State
                    var State = History.getState(); // Note: We are using History.getState() instead of event.state
                    History.log('statechange:', State.data, State.title, State.url);

                    loadContent(State.data); 
                });

                loadContent(State.data);
            }) (window);

            function loadContent(data) {
                var state = data.state;
                if (jQuery.isEmptyObject(data)) {
                    state = "home";
                }

                switch (state) {
                    case "home":
                        $("#content").load('ajax/home.html');
                        History.pushState({state: "home"}, "home", "home");
                        break;
                    case "test":
                        $("#content").load('ajax/test.html');
                        History.pushState({state: "test"}, "test", "test");
                        break;
                    case "draftBldgChoice":
                        $("#content").load('ajax/draftBldgChoice.html');
                        History.pushState({state: "draftBldgChoice"}, "draftBldgChoice", "draftBldgChoice");
                        break;
                    default:
                        $("#content").load('ajax/error.html');
                        History.pushState({state: "error"}, "error", "error");
                        break;
                }
            }
        </script>
    </body>
</html>